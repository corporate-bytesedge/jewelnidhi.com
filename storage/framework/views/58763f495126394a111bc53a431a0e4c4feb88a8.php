<div class="row"> <div class="col-lg-12"> <?php if(session()->has('role_updated')): ?> <div class="alert alert-success alert-dismissible" role="alert"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> <strong><?php echo e(session('role_updated')); ?></strong> </div> <?php endif; ?> <?php echo $__env->make('includes.form_errors', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?> <?php echo Form::model($role, ['method'=>'patch', 'action'=>['ManageRolesController@update', $role->id], 'onsubmit'=>'submit_button.disabled = true; submit_button.value = "' . __('Please Wait...') . '"; return true;']); ?> <div class="row"> <div class="col-xs-12 col-sm-8 col-md-6 form-group<?php echo e($errors->has('name') ? ' has-error' : ''); ?>"> <?php echo Form::label('name', __('Name:')); ?> <?php echo Form::text('name', null, ['class'=>'form-control', 'placeholder'=>__('Enter role name'), 'required']); ?> </div> </div> <?php if(count($permissions) > 0): ?> <hr> <div class="row"> <div class="col-lg-12"> <div class="row"> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2'): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Role Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'roles'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2'): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Page Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'pages'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2'): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Testimonial Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'testimonials'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='3' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Product Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'products'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if($role->id !='3'): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Order Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'orders'): ?> <input name="permission[]" type="hidden" value="23"> <?php if($permission->id!='23'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id ): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='2' && Request::segment(3) !='3' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Coupon Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'coupons'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> </div> <hr> <div class="row"> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Vendor Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'vendors'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Category Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'categories'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='2' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Address Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'address'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> </div> <hr> <div class="row"> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Banner Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'banners'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> <?php if(Request::segment(3) !='3' && Request::segment(3) !='2' ): ?> <div class="col-lg-3"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Customer Permissions'); ?></strong></label> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'customers'): ?> <?php if($role->id == '2'): ?> <?php if($permission->name == 'Delete' || $permission->name == 'Read'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php elseif($role->id == '3'): ?> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> <?php endif; ?> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> <?php endif; ?> </div> <hr> <?php if($role->id != '3'): ?> <div class="row"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-4 col-lg-offset-4"> <label for="permissions"><strong><?php echo app('translator')->getFromJson('Other Permissions'); ?></label> </div> </div> <?php $__currentLoopData = $permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($permission->for == 'other'): ?> <div class="col-lg-4"> <div class="checkbox"> <label><input name="permission[]" type="checkbox" value="<?php echo e($permission->id); ?>" <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role_permission): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php if($role_permission->id == $permission->id): ?> checked <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> ><?php echo e($permission->name); ?></label> </div> </div> <?php endif; ?> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> </div> </div> <?php endif; ?> <hr> </div> </div> <?php endif; ?> <div class="form-group"> <?php echo Form::submit(__('Update'), ['class'=>'btn btn-primary col-xs-6 col-sm-6 col-md-4 pull-left', 'name'=>'submit_button']); ?> </div> <?php echo Form::close(); ?> </div> </div>