<div class="panel panel-default"> <div class="panel-heading"> <?php echo app('translator')->getFromJson('View Roles'); ?> </div> <div class="panel-body"> <form id="delete-form" action="delete/roles" method="post" class="form-inline"> <div class="row"> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Role::class)): ?> <?php echo e(csrf_field()); ?> <div class="col-md-4"> <div class="text-muted"> <label for="checkboxArray"><?php echo app('translator')->getFromJson('Bulk Options'); ?> <i class="fa fa-cog" aria-hidden="true"></i></label> </div> <input type="hidden" name="_method" value="DELETE"> <div class="form-group"> <select name="checkboxArray" class="form-control"> <option value=""><?php echo app('translator')->getFromJson('Delete'); ?></option> </select> </div> <div class="form-group"> <input id="delete_all" name="" class="btn fa btn-warning" value="&#xf1d8;" onclick=" if(confirm('<?php echo app('translator')->getFromJson('Are you sure you want to delete selected roles?'); ?>')) { $('#delete_all').attr('name', 'delete_all'); event.preventDefault(); $('#delete-form').submit(); } else { event.preventDefault(); } " > </div> </div> <?php endif; ?> <div class="advanced-search col-md-<?php echo e(Auth::user()->can('delete', App\Role::class) ? '8' : '8 col-md-offset-4'); ?>"> </div> </div> <div class="table-responsive"> <table class="display table table-striped table-bordered table-hover" id="roles-table"> <thead> <tr> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Role::class)): ?> <th><input type="checkbox" id="options"></th> <?php endif; ?> <th><?php echo app('translator')->getFromJson('ID'); ?></th> <th><?php echo app('translator')->getFromJson('Role'); ?></th> <th><?php echo app('translator')->getFromJson('Created'); ?></th> <?php if((Auth::user()->can('update', App\Role::class)) || (Auth::user()->can('delete', App\Role::class))): ?> <th><?php echo app('translator')->getFromJson('Action'); ?></th> <?php endif; ?> </tr> </thead> <tbody> <?php if($roles): ?> <?php $__currentLoopData = $roles; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <tr> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Role::class)): ?> <td> <?php if($role->id !== 1): ?> <input class="checkboxes" type="checkbox" name="checkboxArray[]" value="<?php echo e($role->id); ?>"></td> <?php else: ?> - <?php endif; ?> <?php endif; ?> <td><?php echo e($role->id); ?></td> <td> <?php if($role->id === 1): ?> <strong><span class="text-danger"><?php echo e($role->name); ?></span></strong> <?php else: ?> <?php echo e($role->name); ?> <?php endif; ?> </td> <td><?php echo e($role->created_at ? $role->created_at : '-'); ?></td> <?php if((Auth::user()->can('update', App\Role::class)) || (Auth::user()->can('delete', App\Role::class))): ?> <td> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('update', App\Role::class)): ?> <?php if($role->id !== 1): ?> <a class="btn btn-info btn-sm" href="<?php echo e(route('manage.roles.edit', $role->id)); ?>"> <i class="fa fa-pencil"></i> </a> <?php else: ?> - <?php endif; ?> <?php endif; ?> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Role::class)): ?> <?php if($role->id !== 1): ?> <input type="hidden" id="delete_single" name=""> <a href="" class="btn btn-danger btn-sm" onclick=" if(confirm('<?php echo app('translator')->getFromJson('Are you sure you want to delete this?'); ?>')) { $('#delete_single').attr('name', 'delete_single').val(<?php echo e($role->id); ?>); event.preventDefault(); $('#delete-form').submit(); } else { event.preventDefault(); } "> <i class="fa fa-trash-o"></i> </a> <?php else: ?> - <?php endif; ?> <?php endif; ?> </td> <?php endif; ?> </tr> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> <?php endif; ?> </tbody> </table> </div> </form> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <?php echo app('translator')->getFromJson('View Roles and Permissions'); ?> </div> <div class="panel-body"> <div class="table-responsive"> <table class="display table table-striped table-bordered table-hover" id="roles-permissions-table"> <thead> <tr> <th><?php echo app('translator')->getFromJson('ID'); ?></th> <th><?php echo app('translator')->getFromJson('Role'); ?></th> <th><?php echo app('translator')->getFromJson('Permissions'); ?></th> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('update', App\Role::class)): ?> <th><?php echo app('translator')->getFromJson('Edit'); ?></th> <?php endif; ?> </tr> </thead> <tbody> <?php if($roles): ?> <?php $__currentLoopData = $roles; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $role): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <tr> <td><?php echo e($role->id); ?></td> <td> <?php if($role->id == 1): ?> <strong><span class="text-danger"><?php echo e($role->name); ?></span></strong> <?php else: ?> <?php echo e($role->name); ?> <?php endif; ?> </td> <td> <?php if($role->id == 1): ?> <strong><span class="text-danger"><?php echo app('translator')->getFromJson('All'); ?></span></strong> <?php else: ?> <?php $__currentLoopData = $role->permissions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $permissions): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php echo e($permissions->name); ?> - <?php echo e($permissions->for); ?> <br> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> <?php endif; ?> </td> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('update', App\Role::class)): ?> <td> <?php if($role->id !== 1): ?> <a class="btn btn-primary" href="<?php echo e(route('manage.roles.edit', $role->id)); ?>"> <i class="fa fa-pencil"></i> </a> <?php else: ?> - <?php endif; ?> </td> <?php endif; ?> </tr> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> <?php endif; ?> </tbody> </table> </div> </div> </div>