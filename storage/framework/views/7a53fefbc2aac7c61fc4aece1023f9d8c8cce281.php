<div class="panel panel-default"> <div class="panel-heading"> <?php echo app('translator')->getFromJson('View Coupons'); ?> </div> <div class="panel-body"> <form id="delete-form" action="delete/coupons" method="post" class="form-inline"> <div class="row"> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete-coupon', App\Voucher::class)): ?> <?php echo e(csrf_field()); ?> <div class="col-md-4"> <div class="text-muted"> <label for="checkboxArray"><?php echo app('translator')->getFromJson('Bulk Options'); ?> <i class="fa fa-cog" aria-hidden="true"></i></label> </div> <input type="hidden" name="_method" value="DELETE"> <div class="form-group"> <select name="checkboxArray" class="form-control"> <option value=""><?php echo app('translator')->getFromJson('Delete'); ?></option> </select> </div> <div class="form-group"> <input id="delete_all" name="" class="btn fa btn-warning" value="&#xf1d8;" onclick=" if(confirm('<?php echo app('translator')->getFromJson('Are you sure you want to delete selected coupons?'); ?>')) { $('#delete_all').attr('name', 'delete_all'); event.preventDefault(); $('#delete-form').submit(); } else { event.preventDefault(); } " > </div> </div> <?php endif; ?> </div> <div class="table-responsive"> <table class="display table table-striped table-bordered table-hover" id="coupons-table"> <thead> <tr> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete-coupon', App\Voucher::class)): ?> <th><input type="checkbox" id="options"></th> <?php endif; ?> <th><?php echo app('translator')->getFromJson('ID'); ?></th> <th><?php echo app('translator')->getFromJson('Name'); ?></th> <th><?php echo app('translator')->getFromJson('Code'); ?></th> <th><?php echo app('translator')->getFromJson('Rate'); ?></th> <th><?php echo app('translator')->getFromJson('Starts At'); ?></th> <th><?php echo app('translator')->getFromJson('Expires At'); ?></th> <th><?php echo app('translator')->getFromJson('Valid Above Amount'); ?></th> <th><?php echo app('translator')->getFromJson('Created'); ?></th> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('update-coupon', App\Voucher::class || 'delete-coupon', App\Voucher::class)): ?> <th><?php echo app('translator')->getFromJson('Action'); ?></th> <?php endif; ?> </tr> </thead> <tbody> <?php if($coupons): ?> <?php $__currentLoopData = $coupons; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $coupon): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <tr> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete-coupon', App\Voucher::class)): ?> <td><input class="checkboxes" type="checkbox" name="checkboxArray[]" value="<?php echo e($coupon->id); ?>"></td> <?php endif; ?> <td><?php echo e($coupon->id); ?></td> <td><?php echo e($coupon->name); ?></td> <td><?php echo e($coupon->code); ?></td> <td><?php echo e($coupon->discount_amount ? currency_format(number_format($coupon->discount_amount)) : $coupon->discount_percentage.'%'); ?></td> <td><?php echo e($coupon->starts_at); ?></td> <td><?php echo e($coupon->expires_at); ?></td> <td><?php echo e($coupon->valid_above_amount ? $coupon->valid_above_amount : '-'); ?></td> <td><?php echo e($coupon->created_at); ?></td> <td> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('update-coupon', App\Voucher::class)): ?> <a class="btn btn-info btn-sm" href="<?php echo e(route('manage.coupons.edit', $coupon->id)); ?>"> <i class="fa fa-pencil"></i> </a> <?php endif; ?> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete-coupon', App\Voucher::class)): ?> <input type="hidden" id="delete_single" name=""> <a class="btn btn-danger btn-sm" href="" onclick=" if(confirm('<?php echo app('translator')->getFromJson('Are you sure you want to delete this?'); ?>')) { $('#delete_single').attr('name', 'delete_single').val(<?php echo e($coupon->id); ?>); event.preventDefault(); $('#delete-form').submit(); } else { event.preventDefault(); } " > <i class="fa fa-trash-o"></i></a> <?php endif; ?> </td> </tr> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> <?php endif; ?> </tbody> </table> </div> </form> </div> </div>