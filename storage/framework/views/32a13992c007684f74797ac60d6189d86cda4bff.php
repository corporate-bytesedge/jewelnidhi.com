 <div class="panel panel-default"> <div class="panel-heading"> <?php echo app('translator')->getFromJson('View Vendors'); ?> </div> <div class="panel-body"> <form id="delete-form" action="delete/vendors" method="post" class="form-inline"> <div class="row"> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Vendor::class)): ?> <?php echo e(csrf_field()); ?> <div class="col-md-4"> <div class="text-muted"> <label for="checkboxArray"><?php echo app('translator')->getFromJson('Bulk Options'); ?> <i class="fa fa-cog" aria-hidden="true"></i></label> </div> <input type="hidden" name="_method" value="DELETE"> <div class="form-group"> <select name="checkboxArray" class="form-control"> <option value=""><?php echo app('translator')->getFromJson('Delete'); ?></option> </select> </div> <div class="form-group"> <input id="delete_all" name="" class="btn fa btn-warning" value="&#xf1d8;" onclick=" if(confirm('<?php echo app('translator')->getFromJson('Are you sure you want to delete selected vendors?'); ?>')) { $('#delete_all').attr('name', 'delete_all'); event.preventDefault(); $('#delete-form').submit(); } else { event.preventDefault(); } " > </div> </div> <?php endif; ?> </div> <div class="table-responsive"> <table class="display table table-striped table-bordered table-hover" id="vendors-table"> <thead> <tr> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Vendor::class)): ?> <th width="5px;"><input type="checkbox" id="options"></th> <?php endif; ?> <th width="20px;"><?php echo app('translator')->getFromJson('Name'); ?></th> <th width="20px;"><?php echo app('translator')->getFromJson('Email'); ?></th> <th width="20px;"><?php echo app('translator')->getFromJson('Company Name'); ?></th> <th width="10px;"><?php echo app('translator')->getFromJson('Phone'); ?></th> <th width="10px;"><?php echo app('translator')->getFromJson('Status'); ?></th> <th width="10px;"><?php echo app('translator')->getFromJson('Products'); ?></th> <th><?php echo app('translator')->getFromJson('Date'); ?></th> <th><?php echo app('translator')->getFromJson('Action'); ?></th> </tr> </thead> <tbody> <?php if($vendors): ?> <?php $__currentLoopData = $vendors; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $vendor): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?> <?php
                            
                            $vendor_name = !empty($vendor->user->name) ? $vendor->user->name: 'N/A';
                            $vendor_username = !empty($vendor->user->username) ? $vendor->user->username: 'N/A';
                            ?> <tr> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Vendor::class)): ?> <td><input class="checkboxes" type="checkbox" name="checkboxArray[]" value="<?php echo e($vendor->id); ?>"></td> <?php endif; ?> <td><?php echo e($vendor_name); ?></td> <td><?php echo e($vendor->user->email ? $vendor->user->email : '-'); ?></td> <td><?php echo e($vendor->name ? $vendor->name : '-'); ?></td> <td><?php echo e($vendor->phone ? $vendor->phone : '-'); ?></td> <td> <?php if($vendor->user->is_active == '1'): ?> <span class="badge bg-success"><i class="fa fa-check"></i></span> <?php else: ?> <span class="badge bg-danger"><i class="fa fa-times"></i></span> <?php endif; ?> </td> <td><?php echo e($vendor->products ? count($vendor->products) : 0); ?></td> <td><?php echo e($vendor->created_at->format('d-m-Y h:i A')); ?></td> <td> <?php if((Auth::user()->can('read', App\Vendor::class)) || (Auth::user()->can('update', App\Vendor::class)) || (Auth::user()->can('delete', App\Vendor::class))): ?> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('read', App\Vendor::class)): ?> <?php endif; ?> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('update', App\Vendor::class)): ?> <a class="btn btn-info btn-sm" href="<?php echo e(route('manage.vendors.edit', $vendor->id)); ?>"> <i class="fa fa-pencil"></i> </a> <?php endif; ?> <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('delete', App\Vendor::class)): ?> <a class="btn btn-danger btn-sm" href="<?php echo e(route('manage.vendors.delete_vendor', $vendor->id)); ?>"> <i class="fa fa-trash-o"></i> </a> <?php endif; ?> <?php endif; ?> </td> </tr> <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?> <?php endif; ?> </tbody> </table> </div> </form> </div> </div>